@import "variables";
@import "mediaQueries";

.event__comments {
  .comments__header {
    @include flex(center);
    column-gap: clamp(0.5rem, 1vw + 0.25rem, 1rem);
    img {
      margin-top: -0.5rem;
      width: clamp(1.55rem, 4vw, 2.1rem);
    }
    h2 {
      font-weight: 600;
      font-size: clamp(1.05rem, 3.25vw, 1.45rem);
      color: $lightHeader;
    }
    .header__comments__count {
      margin-right: -0.25rem;
      font-weight: 400;
      font-size: clamp(0.95rem, 3.05vw, 1.25rem);
      color: $lighestHeader;
    }
  }
  .comments__content {
    margin-top: clamp(0.75rem, 2vw + 1rem, 3rem);
    width: 100%;
    .new-comment {
      margin: 0 auto 0 auto;
      width: 95%;
      height: 20rem;
      overflow: hidden;
      border-radius: 1rem;
      box-shadow: $boxShadow;
      border: 1px solid $purpleColor;
      background-color: $lighterBackground;
      .new-comment__header {
        @include flex(center);
        padding: 0.75rem 1.5rem;
        height: 3.8rem;
        width: 100%;
        overflow: hidden;
        column-gap: 0.85rem;
        border-bottom: 1px solid $SeparatorColor;
        @include mobile {
          height: 5rem;
          flex-wrap: wrap;
        }
        select {
          height: 2rem;
          width: 8rem;
          border: none;
          outline: none;
          color: $mainHeader;
          font-family: "dana-fanum";
          background-color: transparent;
        }
        button {
          @include flex(center);
          border: none;
          outline: none;
          &.first-button {
            margin-right: 1rem;
          }
          svg {
            height: 0.75rem;
          }
        }
      }
      .new-comment__form {
        width: 100%;
        height: calc(100% - 3.8rem);
        @include mobile {
          height: calc(100% - 5rem);
        }
        textarea {
          padding: 1.5rem 2rem 0.5rem 2rem;
          height: 70%;
          width: 100%;
          resize: none;
          border: none;
          outline: none;
          font-size: clamp(0.5rem, 1vw + 0.55rem, 1.25rem);
          font-family: "dana-fanum";
          color: $lighterHeader;
          @include mobile {
            padding: 1rem 1rem 0.5rem 1rem;
          }
          &::placeholder {
            color: $lighterHeader;
          }
        }
        div {
          @include flex(center, flex-end);
          padding: 0 0 1rem 1rem;
          height: 30%;
          button {
            height: clamp(2rem, 2vw + 2rem, 3rem);
            width: clamp(5rem, 2vw + 7rem, 10rem);
            font-family: 700;
            font-size: clamp(0.75rem, 1vw + 0.65rem, 1.1rem);
            border: none;
            outline: none;
            border-radius: 10px;
            color: $lighterBackground;
            background-color: $purpleColor;
          }
        }
      }
    }
    .comments__container {
      margin: 5rem 2.5% 7.5rem 2.5%;
      width: 95%;
    }
    .comment {
      margin: 2rem 1.5rem 1rem 0;
      width: 100%;
      height: fit-content;
      @include mobile {
        margin-right: 2.5vw;
      }
      .comment__container {
        position: relative;
        padding: clamp(1.5rem, 0.5vw + 1.5rem, 2rem) clamp(2.5rem, 1vw + 1.75rem, 5rem) 3.5rem
          clamp(1.5rem, 0.5vw + 1.5rem, 2rem);
        width: 100%;
        min-height: 17rem;
        border-radius: 1rem;
        background-color: $commentBG;
        @include mobile {
          padding: 6vw 10vw 3.5rem 3vw;
        }
        .comment__profile {
          @include center;
          position: absolute;
          inset: clamp(1.5rem, 0.5vw + 1.5rem, 2rem) -2.5rem auto auto;
          width: clamp(4vw, 1vw + 3.75rem, 5rem);
          height: clamp(4vw, 1vw + 3.75rem, 5rem);
          border-radius: 100%;
          box-shadow: $boxShadow;
          background-color: $lighterBackground;
          img {
            width: 95%;
          }
          @include mobile {
            width: 13vw;
            height: 13vw;
            inset: 6vw -7vw auto auto;
          }
        }
        .comment__content {
          width: 100%;
          height: 100%;
          .content__header {
            @include flex(stretch, flex-start, column);
            width: 100%;
            row-gap: clamp(0.75vw, 0.5vw + 0.25rem, 0.75rem);
            .data__name-date {
              @include flex(center);
              width: 100%;
              column-gap: clamp(0.45rem, 0.5vw + 0.45rem, 0.9rem);
              flex-shrink: 1;
              h3 {
                margin-left: 1.5rem;
                max-width: 50%;
                height: clamp(0.75rem, 1vw + 1.125rem, 2rem);
                font-size: clamp(0.75rem, 1vw + 0.75rem, 1.5rem);
                font-weight: 400;
                overflow: hidden;
                white-space: nowrap;
                text-overflow: ellipsis;
                color: $lightHeader;
              }
              time,
              span {
                font-size: clamp(0.45rem, 1vw + 0.4rem, 1.1rem);
                color: $lighestHeader;
                @include mobile {
                  font-size: 2.75vw;
                }
              }
              time {
                position: relative;
                &::after {
                  position: absolute;
                  content: "";
                  inset: 50% -1.5rem auto auto;
                  width: 0.5rem;
                  height: 0.5rem;
                  border-radius: 100%;
                  transform: translateY(-50%);
                  background-color: $orangeColor;
                }
              }
              .buttons {
                @include flex(center);
                column-gap: 0.5rem;
                @include tablet {
                  position: absolute;
                  inset: auto clamp(2.5rem, 1vw + 1.75rem, 5rem) 1rem auto;
                }
                @include mobile {
                  inset: auto 10vw 1rem auto;
                }
                button {
                  height: clamp(1rem, 1vw + 1.5rem, 2rem);
                  padding: 0.5rem;
                  border: none;
                  outline: none;
                  border-radius: 5px;
                  background-color: #dddddd;
                  svg {
                    height: fit-content;
                    width: clamp(0.75rem, 1vw + 0.5rem, 1.05rem);
                  }
                  &:last-child {
                    color: $lightHeader;
                    font-size: clamp(0.5rem, 1vw + 0.4rem, 0.9rem);
                    padding: 0.5rem 0.75rem;
                  }
                }
              }
            }
            .data__position {
              @include flex(center);
              font-size: clamp(0.5rem, 1vw + 0.5rem, 1rem);
              color: $lighestHeader;
              span:nth-child(2) {
                margin: 0 0.5rem;
              }
              @include mobile {
                font-size: 3vw;
              }
            }
          }
          .comment__text {
            margin-top: 1.5rem;
            font-size: clamp(0.65rem, 1vw + 0.6rem, 1.1rem);
            line-height: clamp(1.25rem, 2vw + 1.75rem, 2.5rem);
            color: $lighterHeader;
            @include mobile {
              font-size: 3vw;
              margin-top: 2.5vw;
            }
          }
          .comment__like {
            @include flex(center);
            padding: 0.4rem;
            column-gap: 0.5rem;
            position: absolute;
            inset: 1.95rem auto auto clamp(1.5rem, 0.5vw + 1.5rem, 2rem);
            height: clamp(1rem, 1vw + 1.5rem, 2rem);
            border: none;
            outline: none;
            border-radius: 5px;
            background-color: #dddddd;
            svg {
              width: clamp(0.75rem, 1vw + 0.5rem, 1.05rem);
            }
            span {
              height: 0.8rem;
              font-size: clamp(0.5rem, 1vw + 0.4rem, 0.9rem);
              line-height: 1rem;
              color: $lightHeader;
            }
            @include tablet {
              inset: auto auto 1rem 3vw;
            }
          }
        }
      }
      .comment__replies {
        .reply {
          @extend .comment__container;
          margin: 2rem 6rem 1rem 0;
          width: calc(100% - 6rem);
          background-color: transparent;
          border: 1px solid $lighestHeader;
          @include tablet {
            margin-right: 3rem;
            width: calc(100% - 3rem);
          }
          @include mobile {
            margin-right: .5rem;
            width: calc(100% - .5rem);
          }
        }
      }
    }
  }
}
